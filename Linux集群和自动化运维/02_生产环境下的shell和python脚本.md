2.1 shell和python简介
---

```txt
1)配合crontab帮我们完成定时任务
2)开发nagios插件，很多业务需求是通过shell开发的
3)配合iptables可以形成方便又安全的iptables脚本，还可以保护系统安全
4)文本过滤和大数据日志分析，很多离线数据是shell配合python进行分析的
5)可以写强大的系统性能和监控脚本，配合keepalived来实现系统高可用
6)定时备份任务和rsync同步重要的服务器资料，这是shell基本功能
7)自动化安装环境，规范化操作，缩减项目实施时间和误差

"" 双引号  弱引用 用来使shell无法认出除[$ ' \]之外的任何字符或字符串
'' 单引号  强引用 用来使shell无法认出所有特殊字符
`` 反引号  优先执行当前命令
\      两种作用，1 转义，使shell无法认出后面的字符，使其后面的字符失去特殊含义，如文件名含有空格空格需要转义
       如果放在指令前，有取消别名的作用，如"\rm /home/abc/*.log/"中，rm指令前加上\作用是暂时取消别名的作用
       将rm指令还原
;      允许在一行放入多行命令
&      将命令放入后台执行，建议和nohup一起使用
()     创建成组的命令
{}     创建命令块
<>&    重定向
*?[]!  表示模式匹配
$      变量名开头
#      表注释，第一行除外
空格、制表符、换行符：当做空白

变量和运算符
变量是放置在内存中的某个存储单元，这个存储单元存放的是这个单元的值，这个值是可以改变的，称之为变量
本地变量是用户现有shell生命周期的脚本中使用的，用户退出后变量就不存在了，该变量用于普通用户

环境变量用于所有用户进程(包括子进程)，shell中执行的用户进程称为子进程
本地环境变量只用于现在的shell，环境变量可以用于所有子进程，包括编辑器，脚本和应用

本地变量中包含环境变量
位置变量 $0 表示整个shell脚本，从第10个参数开始，必须用{}括起来，比如${10}
特殊变量 $*所有参数为一个整体  $@所有参数默认空格隔开 $# 参数总数数量

bash -x 调试脚本
set -x 和set +x 调试部分
$?退出代码 返回0表示正常退出

shell变量，shell变量名可由字母，数字，下划线等字符组成，但是第一个字符必须是字母或者下划线

内部变量是为了便于shell编程而由shell设定的变量
本地变量是在代码中或函数中定义的变量，且仅在定义的范围内有效
参数变量是调用shell脚本或者函数时传递的变量
环境变量是为系统内核，系统命令和用户命令提供运行环境而设定的变量
用户定义变量是为运行用户程序或完成某种特定任务而设定的普通变量或临时变量

变量赋值
variable=value

内部变量
PWD      当前工作目录
RANDOM   每次引用这个变量，会生成一个均匀分布的0 32767范围内的整数
SCONDS   脚本已经运行的时间(秒)
PPID     当前进程的父进程的进程ID
$?       最近一次命令或shell脚本的出口状态
环境变量
EDITOR  用于确定命令行编辑所用的编辑程序，通常为vim
HOME    用户主目录
PATH    指定命令的检索路径

Linux包含了两个重要文件/etc/profile   $HOMR/.bash_profile每次登录后读取这两个文件
/etc/profile 是全局超级用户用到的    /$HOME/.bash_profile是普通用户自己独立的

如果要让所用用户用到PATH变量，可以打开/etc/profile文件，添加PATH=/$PATH/usr/local/mysql/bin
source /etc/profile立即生效

假设variable是一个变量，$variable就变量的值
引用变量有两种形式 $variable 与{variable}

变量类型
可以使用typeset 或declare命令定义变量类型

read 给了一个-p 的参数，允许read命令给一个提示
set    用于修改或重新设置位置参数的值，shell规定用户不能直接为位置参数赋值，使用不带参数的set将输出所有内部变量
set -- 清除所有位置参数
unset  清除shell变量，把变量值设为NULL ，这个命令并不影响位置参数

expr手工计算工具



```